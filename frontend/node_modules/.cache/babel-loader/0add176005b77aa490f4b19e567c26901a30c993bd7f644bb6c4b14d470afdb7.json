{"ast":null,"code":"var _jsxFileName = \"/Users/daryn/Desktop/Project/Kanat_CRM/NEW_Kanat_Shops/frontend/src/Container/Shops/AddShop.tsx\",\n  _s = $RefreshSig$();\nimport FormElement from '../../Components/UI/Form/FormElement';\nimport { useAddShopsMutation } from '../../Store/services/shops';\nimport SuccessPopup from '../../Components/UI/SuccessPopup/SuccessPopup';\nimport { Container, Snackbar, Alert } from '@mui/material';\nimport { useEffect, useState } from 'react';\nimport { LoadingButton } from '@mui/lab';\nimport { useNavigate } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddShops = () => {\n  _s();\n  var _data;\n  const [addShop, {\n    isError,\n    isSuccess,\n    error\n  }] = useAddShopsMutation();\n  const initialFormState = {\n    name: '',\n    address: ''\n  };\n  const [form, setForm] = useState(initialFormState);\n  const [open, setOpen] = useState(false);\n  const [show, setShow] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    setOpen(isError);\n    setShow(isSuccess);\n  }, [isError, isSuccess]);\n  const handleClose = () => {\n    setOpen(false);\n    setShow(false);\n  };\n  const inputChangeHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const submitFormHandler = async e => {\n    e.preventDefault();\n    const data = await addShop(form);\n    if (!data.error) {\n      setForm({\n        name: '',\n        address: ''\n      });\n      navigate('/shops');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: submitFormHandler,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      component: \"section\",\n      maxWidth: \"xs\",\n      children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'center'\n        },\n        open: open,\n        autoHideDuration: 3000,\n        onClose: handleClose,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          onClose: handleClose,\n          children: error !== null && error !== void 0 && (_data = error.data) !== null && _data !== void 0 && _data.message ? 'Что то пошло не так!' : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SuccessPopup, {\n        open: show,\n        onClose: handleClose,\n        message: \"\\u041C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormElement, {\n        value: form.name,\n        label: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\\u0430\",\n        name: \"name\",\n        onChange: inputChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormElement, {\n        value: form.address,\n        label: \"\\u0410\\u0434\\u0440\\u0435\\u0441\",\n        name: \"address\",\n        onChange: inputChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n        loading: false,\n        fullWidth: true,\n        variant: \"contained\",\n        color: \"success\",\n        type: \"submit\",\n        className: \"submit\",\n        sx: {\n          marginBottom: 2,\n          marginTop: 3\n        },\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(AddShops, \"b2gV3vcrzu3YpvX0KDqz2xnWvDs=\", false, function () {\n  return [useAddShopsMutation, useNavigate];\n});\n_c = AddShops;\nexport default AddShops;\nvar _c;\n$RefreshReg$(_c, \"AddShops\");","map":{"version":3,"names":["FormElement","useAddShopsMutation","SuccessPopup","Container","Snackbar","Alert","useEffect","useState","LoadingButton","useNavigate","jsxDEV","_jsxDEV","AddShops","_s","_data","addShop","isError","isSuccess","error","initialFormState","name","address","form","setForm","open","setOpen","show","setShow","navigate","handleClose","inputChangeHandler","e","value","target","prevState","submitFormHandler","preventDefault","data","onSubmit","children","component","maxWidth","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","severity","message","fileName","_jsxFileName","lineNumber","columnNumber","label","onChange","loading","fullWidth","variant","color","type","className","sx","marginBottom","marginTop","_c","$RefreshReg$"],"sources":["/Users/daryn/Desktop/Project/Kanat_CRM/NEW_Kanat_Shops/frontend/src/Container/Shops/AddShop.tsx"],"sourcesContent":["import FormElement from '../../Components/UI/Form/FormElement'\nimport { CustomError } from '../../interfaces/errors/CustomError'\nimport { useAddShopsMutation } from '../../Store/services/shops'\nimport SuccessPopup from '../../Components/UI/SuccessPopup/SuccessPopup'\nimport { Container, Button, Snackbar, Alert } from '@mui/material'\nimport { ChangeEvent, useEffect, useState } from 'react'\nimport { LoadingButton } from '@mui/lab'\nimport { useNavigate } from 'react-router'\n\nconst AddShops = () => {\n  const [addShop, { isError, isSuccess, error }] = useAddShopsMutation()\n  interface Props {\n    name: string\n    address: string\n  }\n\n  const initialFormState: Props = {\n    name: '',\n    address: '',\n  }\n\n  const [form, setForm] = useState<Props>(initialFormState)\n  const [open, setOpen] = useState(false)\n  const [show, setShow] = useState(false)\n\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    setOpen(isError)\n    setShow(isSuccess)\n  }, [isError, isSuccess])\n\n  const handleClose = () => {\n    setOpen(false)\n    setShow(false)\n  }\n\n  const inputChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setForm((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }))\n  }\n\n  const submitFormHandler = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    const data = await addShop(form)\n    if (!(data as { error: object }).error) {\n      setForm({\n        name: '',\n        address: '',\n      })\n      navigate('/shops')\n    }\n  }\n\n  return (\n    <form onSubmit={submitFormHandler}>\n      <Container component=\"section\" maxWidth=\"xs\">\n        <Snackbar\n          anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n          open={open}\n          autoHideDuration={3000}\n          onClose={handleClose}\n        >\n          <Alert severity=\"error\" onClose={handleClose}>\n            {(error as CustomError)?.data?.message\n              ? 'Что то пошло не так!'\n              : null}\n          </Alert>\n        </Snackbar>\n        <SuccessPopup\n          open={show}\n          onClose={handleClose}\n          message=\"Магазин добавлен\"\n        />\n        <FormElement\n          value={form.name}\n          label=\"Название магазина\"\n          name=\"name\"\n          onChange={inputChangeHandler}\n        />\n        <FormElement\n          value={form.address}\n          label=\"Адрес\"\n          name=\"address\"\n          onChange={inputChangeHandler}\n        />\n        <LoadingButton\n          loading={false}\n          fullWidth\n          variant=\"contained\"\n          color=\"success\"\n          type=\"submit\"\n          className=\"submit\"\n          sx={{ marginBottom: 2, marginTop: 3 }}\n        >\n          Добавить\n        </LoadingButton>\n      </Container>\n    </form>\n  )\n}\nexport default AddShops\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/Users/daryn/Desktop/Project/Kanat_CRM/NEW_Kanat_Shops/frontend/src/Container/Items/EditItem.tsx\",\n  _s = $RefreshSig$();\nimport FormElement from '../../Components/UI/Form/FormElement';\nimport { useEditItemMutation } from '../../Store/services/items';\nimport { useNavigate } from 'react-router';\nimport { Container, Button, Snackbar, Alert } from '@mui/material';\nimport { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditItem = () => {\n  _s();\n  var _data;\n  const {\n    id\n  } = useParams();\n  const [editItem, {\n    error\n  }] = useEditItemMutation();\n  const [form, setForm] = useState({\n    item_name: ''\n  });\n  const [open, setOpen] = useState(false);\n  const navigate = useNavigate();\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const inputChangeHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const submitFormHandler = async e => {\n    e.preventDefault();\n    if (form.item_name) {\n      const data = await editItem({\n        itemId: id,\n        item: form\n      });\n      if (!data.error) {\n        navigate('/items');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: submitFormHandler,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      component: \"section\",\n      maxWidth: \"xs\",\n      sx: {\n        marginTop: '100px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'center'\n        },\n        open: open,\n        autoHideDuration: 3000,\n        onClose: handleClose,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          onClose: handleClose,\n          children: error === null || error === void 0 ? void 0 : (_data = error.data) === null || _data === void 0 ? void 0 : _data.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormElement, {\n        value: form.item_name,\n        label: \"Title\",\n        name: \"item_name\",\n        onChange: inputChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        color: \"success\",\n        type: \"submit\",\n        className: \"submit\",\n        disabled: form.item_name.length > 0 ? false : true,\n        children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(EditItem, \"rrZPuUIofM9c5NwhYGGmAyym5qI=\", false, function () {\n  return [useParams, useEditItemMutation, useNavigate];\n});\n_c = EditItem;\nexport default EditItem;\nvar _c;\n$RefreshReg$(_c, \"EditItem\");","map":{"version":3,"names":["FormElement","useEditItemMutation","useNavigate","Container","Button","Snackbar","Alert","useState","useParams","jsxDEV","_jsxDEV","EditItem","_s","_data","id","editItem","error","form","setForm","item_name","open","setOpen","navigate","handleClose","inputChangeHandler","e","name","value","target","prevState","submitFormHandler","preventDefault","data","itemId","item","onSubmit","children","component","maxWidth","sx","marginTop","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","severity","message","fileName","_jsxFileName","lineNumber","columnNumber","label","onChange","fullWidth","variant","color","type","className","disabled","length","_c","$RefreshReg$"],"sources":["/Users/daryn/Desktop/Project/Kanat_CRM/NEW_Kanat_Shops/frontend/src/Container/Items/EditItem.tsx"],"sourcesContent":["import FormElement from '../../Components/UI/Form/FormElement'\nimport { CustomError } from '../../interfaces/errors/CustomError'\nimport { useEditItemMutation } from '../../Store/services/items'\n\nimport BasicSelect from '../../Components/UI/Form/SelectFormElement'\nimport { useAppSelector } from '../../Store/hooks'\nimport { useNavigate } from 'react-router'\nimport { Container, Button, Snackbar, Alert } from '@mui/material'\nimport { ChangeEvent, FormEvent, useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\n\nexport interface ItemProps {\n  item_name: string\n}\n\nconst EditItem = () => {\n  const { id } = useParams()\n\n  const [editItem, { error }] = useEditItemMutation()\n\n  const [form, setForm] = useState<ItemProps>({\n    item_name: '',\n  })\n\n  const [open, setOpen] = useState(false)\n\n  const navigate = useNavigate()\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const inputChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n\n    setForm((prevState) => ({\n      ...prevState,\n      [name as keyof ItemProps]: value,\n    }))\n  }\n  const submitFormHandler = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n\n    if (form.item_name) {\n      const data = await editItem({ itemId: id as string, item: form })\n      if (!(data as { error: object }).error) {\n        navigate('/items')\n      }\n    }\n  }\n\n  return (\n    <form onSubmit={submitFormHandler}>\n      <Container component=\"section\" maxWidth=\"xs\" sx={{ marginTop: '100px' }}>\n        <Snackbar\n          anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n          open={open}\n          autoHideDuration={3000}\n          onClose={handleClose}\n        >\n          <Alert severity=\"error\" onClose={handleClose}>\n            {(error as CustomError)?.data?.message}\n          </Alert>\n        </Snackbar>\n        <FormElement\n          value={form.item_name}\n          label=\"Title\"\n          name=\"item_name\"\n          onChange={inputChangeHandler}\n        />\n        <Button\n          fullWidth\n          variant=\"contained\"\n          color=\"success\"\n          type=\"submit\"\n          className=\"submit\"\n          disabled={form.item_name.length > 0 ? false : true}\n        >\n          Изменить\n        </Button>\n      </Container>\n    </form>\n  )\n}\n\nexport default EditItem\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"/* eslint-disable no-empty-pattern */\nimport authApi from '../Store/services/auth';\nimport { createSlice } from '@reduxjs/toolkit';\nconst storedState = localStorage.getItem('authState');\nconst initialState = storedState ? JSON.parse(storedState) : {\n  isAuthenticated: false,\n  isLoading: false,\n  user: {}\n};\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addMatcher(authApi.endpoints.signIn.matchPending, (state, action) => {\n      state.isAuthenticated = false;\n      state.isLoading = true;\n    }).addMatcher(authApi.endpoints.signIn.matchFulfilled, (state, action) => {\n      state.user = action.payload;\n      state.isAuthenticated = true;\n      state.isLoading = false;\n      localStorage.setItem('authState', JSON.stringify(state));\n    }).addMatcher(authApi.endpoints.signIn.matchRejected, (state, action) => {\n      state.isAuthenticated = false;\n      state.isLoading = false;\n    }).addMatcher(authApi.endpoints.logout.matchFulfilled, state => {\n      state.isAuthenticated = false;\n      state.isLoading = false;\n      state.user = {};\n      localStorage.removeItem('authState');\n    });\n  }\n});\nexport const authActions = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["authApi","createSlice","storedState","localStorage","getItem","initialState","JSON","parse","isAuthenticated","isLoading","user","authSlice","name","reducers","extraReducers","builder","addMatcher","endpoints","signIn","matchPending","state","action","matchFulfilled","payload","setItem","stringify","matchRejected","logout","removeItem","authActions","actions","reducer"],"sources":["/Users/daryn/Desktop/Project/Kanat_CRM/NEW_Kanat_Shops/frontend/src/features/authSlice.ts"],"sourcesContent":["/* eslint-disable no-empty-pattern */\nimport authApi from '../Store/services/auth';\nimport { UserState } from '../Store/user/userTypes';\nimport { createSlice } from '@reduxjs/toolkit';\nimport { IUser } from '../interfaces/IUser';\n\nconst storedState = localStorage.getItem('authState');\n\nconst initialState: UserState = storedState ? JSON.parse(storedState) : {\n\tisAuthenticated: false,\n\tisLoading: false,\n\tuser: {},\n  };\n\n\nexport const authSlice = createSlice({\n\tname: 'auth',\n\tinitialState,\n\treducers: {},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addMatcher(authApi.endpoints.signIn.matchPending, (state, action) => {\n\t\t\t\tstate.isAuthenticated = false;\n\t\t\t\tstate.isLoading = true;\n\t\t\t})\n\t\t\t.addMatcher(authApi.endpoints.signIn.matchFulfilled, (state, action) => {\n\t\t\t\tstate.user = action.payload;\n\t\t\t\tstate.isAuthenticated = true;\n\t\t\t\tstate.isLoading = false;\n\t\t\t\tlocalStorage.setItem('authState', JSON.stringify(state));\n\t\t\t})\n\t\t\t.addMatcher(authApi.endpoints.signIn.matchRejected, (state, action) => {\n\t\t\t\tstate.isAuthenticated = false;\n\t\t\t\tstate.isLoading = false;\n\t\t\t})\n\t\t\t.addMatcher(authApi.endpoints.logout.matchFulfilled, (state) => {\n\t\t\t\tstate.isAuthenticated = false;\n\t\t\t\tstate.isLoading = false;\n\t\t\t\tstate.user = {} as IUser;\n\t\t\t\tlocalStorage.removeItem('authState');\n\t\t\t});\n\t},\n});\n\nexport const authActions = authSlice.actions;\n\nexport default authSlice.reducer;"],"mappings":"AAAA;AACA,OAAOA,OAAO,MAAM,wBAAwB;AAE5C,SAASC,WAAW,QAAQ,kBAAkB;AAG9C,MAAMC,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;AAErD,MAAMC,YAAuB,GAAGH,WAAW,GAAGI,IAAI,CAACC,KAAK,CAACL,WAAW,CAAC,GAAG;EACvEM,eAAe,EAAE,KAAK;EACtBC,SAAS,EAAE,KAAK;EAChBC,IAAI,EAAE,CAAC;AACN,CAAC;AAGH,OAAO,MAAMC,SAAS,GAAGV,WAAW,CAAC;EACpCW,IAAI,EAAE,MAAM;EACZP,YAAY;EACZQ,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IAC3BA,OAAO,CACLC,UAAU,CAAChB,OAAO,CAACiB,SAAS,CAACC,MAAM,CAACC,YAAY,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACrED,KAAK,CAACZ,eAAe,GAAG,KAAK;MAC7BY,KAAK,CAACX,SAAS,GAAG,IAAI;IACvB,CAAC,CAAC,CACDO,UAAU,CAAChB,OAAO,CAACiB,SAAS,CAACC,MAAM,CAACI,cAAc,EAAE,CAACF,KAAK,EAAEC,MAAM,KAAK;MACvED,KAAK,CAACV,IAAI,GAAGW,MAAM,CAACE,OAAO;MAC3BH,KAAK,CAACZ,eAAe,GAAG,IAAI;MAC5BY,KAAK,CAACX,SAAS,GAAG,KAAK;MACvBN,YAAY,CAACqB,OAAO,CAAC,WAAW,EAAElB,IAAI,CAACmB,SAAS,CAACL,KAAK,CAAC,CAAC;IACzD,CAAC,CAAC,CACDJ,UAAU,CAAChB,OAAO,CAACiB,SAAS,CAACC,MAAM,CAACQ,aAAa,EAAE,CAACN,KAAK,EAAEC,MAAM,KAAK;MACtED,KAAK,CAACZ,eAAe,GAAG,KAAK;MAC7BY,KAAK,CAACX,SAAS,GAAG,KAAK;IACxB,CAAC,CAAC,CACDO,UAAU,CAAChB,OAAO,CAACiB,SAAS,CAACU,MAAM,CAACL,cAAc,EAAGF,KAAK,IAAK;MAC/DA,KAAK,CAACZ,eAAe,GAAG,KAAK;MAC7BY,KAAK,CAACX,SAAS,GAAG,KAAK;MACvBW,KAAK,CAACV,IAAI,GAAG,CAAC,CAAU;MACxBP,YAAY,CAACyB,UAAU,CAAC,WAAW,CAAC;IACrC,CAAC,CAAC;EACJ;AACD,CAAC,CAAC;AAEF,OAAO,MAAMC,WAAW,GAAGlB,SAAS,CAACmB,OAAO;AAE5C,eAAenB,SAAS,CAACoB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}